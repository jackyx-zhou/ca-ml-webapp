(this["webpackJsonpca-ml-webapp"]=this["webpackJsonpca-ml-webapp"]||[]).push([[0],{432:function(e,t,n){},442:function(e,t){},443:function(e,t){},451:function(e,t){},535:function(e,t){},536:function(e,t){},537:function(e,t){},545:function(e,t){},549:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),i=n(57),c=n.n(i),s=(n(432),n(7)),o=n(225),l=n(19),j=n(26),u=n(601),d=n(89),b=n(630),h=n(621),p=n(622),O=n(618),m=n(620),x=n(295),f=n(624),g=n(623),v=n(408),w=n.n(v),y=n(410),S=n.n(y),C=n(409),N=n.n(C),k=n(625),B=n(626),A=n(627),L=n(411),I=n.n(L),F=n(412),T=n.n(F),M=n(413),W=n.n(M),z=n(414),R=n.n(z),D=n(229),E=n(66),P=n(551),G=n(604),V=n(23),H=Object(u.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var X=function(e){var t=H();return Object(V.jsx)("div",{className:t.root,children:Object(V.jsxs)(G.a,{container:!0,spacing:3,children:[Object(V.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(P.a,{className:t.paper,children:e.left})}),Object(V.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(P.a,{className:t.paper,children:e.right})})]})})};function J(){var e=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h1",{children:"Cellular Automata"}),Object(V.jsx)("img",{alt:"",style:{maxWidth:"100%"},src:"https://miro.medium.com/max/1024/1*pNLSLasaYXb9wgBPpGXZSw.gif"})]}),t=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h1",{children:"Machine Learning"}),Object(V.jsx)("img",{alt:"",style:{maxWidth:"100%"},src:"https://miro.medium.com/max/3000/1*n3TBO5i8hrYAujlhiHoE_w.gif"})]});return Object(V.jsx)(X,{left:e,right:t})}var Y=n(619),_=n(632),U=n(617),Z=n(104),q=n(2),K=n.n(q),Q=n(16),$=n(12),ee=n(151),te=Object($.a)(Array(8).keys()).reverse().map((function(e){return e.toString(2).padStart(3,"0")}));function ne(){return(ne=Object(Q.a)(K.a.mark((function e(t,n){var a,r,i,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["loss","acc"],r={name:"Model Training",tab:"1D CA"},i=Object(o.a)(Object(o.a)({},Z.show.fitCallbacks(r,a)),{},{onEpochEnd:function(e,n){n.acc>.9&&(t.stopTraining=!0)}}),c=n.toString(2).padStart(8,"0").split("").map(Number),c=ee.c(c),e.abrupt("return",t.fit(te,c,{epochs:500,callbacks:i}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}te=te.map((function(e){return e.split("").map(Number)})),te=ee.c(te);var ae=n(631),re=n(616),ie=Object(ae.a)(re.a)({maxWidth:"100%",marginBottom:20}),ce=n(628),se=n(322),oe=Object(u.a)((function(e){return{image:{position:"relative",flexDirection:"column","&:hover":{zIndex:1}}}}));function le(e){var t="caButtons/"+e.id+"on.png",n="caButtons/"+e.id+"off.png",a=e.toggle,r=oe();return Object(V.jsxs)(se.a,{focusRipple:!0,className:r.image,focusVisibleClassName:r.focusVisible,id:e.id,index:e.index,toggle:e.toggle?1:void 0,onClick:e.onClick,children:[Object(V.jsx)("img",{src:a?t:n,alt:e.id+" state"}),Object(V.jsx)("br",{}),Object(V.jsxs)(x.a,{variant:"button",children:[" ",a?1:0," "]})]})}var je=n(407),ue=n.n(je);function de(e,t){var n=64;return new ue.a((function(a){function r(e){var t=this;this.w=Math.floor(a.width/n),this.cells=new Array(n);for(var r=0;r<this.cells.length;r++)this.cells[r]=0;this.cells[this.cells.length/2]=1,this.generation=0,this.ruleset=e.toString(2).padStart(8,"0").split("").map((function(e){return parseInt(e)})),this.generate=function(){for(var e=[],n=0;n<t.cells.length;n++)e[n]=0;for(var a=1;a<t.cells.length-1;a++){var r=t.cells[a-1],i=t.cells[a],c=t.cells[a+1];e[a]=t.rules(r,i,c)}t.cells=e,t.generation++},this.display=function(){for(var e=0;e<this.cells.length;e++)1===this.cells[e]?a.fill(200):a.fill(51),a.noStroke(),a.rect(e*this.w,this.generation*this.w,this.w,this.w)},this.rules=function(e,t,n){return 1===e&&1===t&&1===n?this.ruleset[0]:1===e&&1===t&&0===n?this.ruleset[1]:1===e&&0===t&&1===n?this.ruleset[2]:1===e&&0===t&&0===n?this.ruleset[3]:0===e&&1===t&&1===n?this.ruleset[4]:0===e&&1===t&&0===n?this.ruleset[5]:0===e&&0===t&&1===n?this.ruleset[6]:0===e&&0===t&&0===n?this.ruleset[7]:0}}var i;a.setup=function(){a.createCanvas(.8*e.offsetWidth,.8*e.offsetWidth),i=new r(t),a.resizeCanvas(n*i.w,n*i.w),a.background(0)},a.draw=function(){i.display(),i.generation<a.height/i.w&&i.generate()},a.windowResized=function(){a.resizeCanvas(.8*e.offsetWidth,.8*e.offsetWidth),i=new r(t),a.resizeCanvas(n*i.w,n*i.w),a.background(0)}}),e)}var be=Object($.a)(Array(8).keys()).reverse().map((function(e){return e.toString(2).padStart(3,"0")}));function he(e){var t=e.ruleNum,n=e.setRuleNum,r=Object(a.useState)(!1),i=Object(s.a)(r,2),c=i[0],o=i[1],l=Object(a.useState)(Object($.a)(Array(8).fill(!1))),j=Object(s.a)(l,2),u=j[0],d=j[1],b=Object(a.useRef)(null),h=Object(a.useState)(null),p=Object(s.a)(h,2),O=p[0],m=p[1],x=function(e){var t=e.currentTarget,a=Object($.a)(u);a[parseInt(t.getAttribute("index"))]=!t.getAttribute("toggle"),d(a),n(function(e){return Object($.a)(e).reverse().reduce((function(e,t,n){return e+t*Math.pow(2,n)}),0)}(a))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ie,{children:be.map((function(e,t){return Object(V.jsx)(le,{id:e,index:t,toggle:u[t]?1:void 0,onClick:x},t)}))}),Object(V.jsx)(ie,{children:Object(V.jsx)(ce.a,{error:c,id:"rule-num-inpput",label:"Rule Number",type:"number",value:t,variant:"outlined",onChange:function(e){var t=e.target.value;isNaN(t)||(t=parseInt(t))<0||t>255?o(!0):(o(!1),n(t),d(t.toString(2).padStart(8,"0").split("").map((function(e){return!!parseInt(e)}))))},helperText:c?"Only number between 0 and 255 allowed!":"Suggestion: 30, 135, 193"})}),Object(V.jsx)(ie,{children:Object(V.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(e){O&&O.remove(),m(de(b.current,t))},children:"Visualise"})}),Object(V.jsx)(ie,{ref:b,children:Object(V.jsx)(V.Fragment,{})})]})}function pe(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(s.a)(i,2),o=c[0],l=c[1],j=Object(a.useState)(null),u=Object(s.a)(j,2),d=u[0],b=u[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),O=p[0],m=p[1],f=Object(a.useRef)(null),g=Object(a.useState)(null),v=Object(s.a)(g,2),w=v[0],y=v[1],S={name:"Model summary",tab:"1D CA"},C={name:"Hidden Layer Summary",tab:"1D CA"},N={name:"Hidden Layer Summary Post Training",tab:"1D CA"},k=Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(he,{ruleNum:n,setRuleNum:r})}),B=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ie,{children:Object(V.jsx)(Y.a,{variant:"contained",color:"secondary",onClick:function(e){Z.visor().open()},children:"Show training progress"})}),Object(V.jsxs)(ie,{children:[Object(V.jsx)(x.a,{id:"hidden-unit-slider",gutterBottom:!0,children:"Units in hidden layer"}),Object(V.jsxs)(G.a,{container:!0,spacing:3,justify:"center",children:[Object(V.jsx)(G.a,{item:!0,children:Object(V.jsx)(_.a,{value:"number"===typeof o?o:0,onChange:function(e,t){l(t)},"aria-labelledby":"hidden-unit-slider",style:{width:64},min:0,max:32})}),Object(V.jsx)(G.a,{item:!0,children:Object(V.jsx)(U.a,{value:o,margin:"dense",onChange:function(e){l(""===e.target.value?"":Number(e.target.value))},onBlur:function(){o<0?l(0):o>32&&l(32)},inputProps:{min:0,max:32,type:"number","aria-labelledby":"hidden-unit-slider"}})})]})]}),Object(V.jsx)(ie,{children:Object(V.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(e){var t=function(e){var t=ee.b();t.add(ee.a.inputLayer({inputShape:[3]})),e>0&&t.add(ee.a.dense({units:e,activation:"relu"})),t.add(ee.a.dense({units:1,activation:"sigmoid"}));var n=ee.d.sgd(.2);return t.compile({optimizer:n,loss:"binaryCrossentropy",metrics:["accuracy"]}),t}(o);Z.show.modelSummary(S,t),Z.show.layer(C,t.getLayer(void 0,1)),Z.visor().open(),b(t)},children:"Build Model"})}),d?Object(V.jsx)(ie,{children:Object(V.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(V.jsx)(G.a,{item:!0,children:Object(V.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(e){var t=function(e,t){return e.predict(te).dataSync().map((function(e){return Number(e>.5)}))}(d).reverse().reduce((function(e,t,n){return e+t*Math.pow(2,n)}),0);console.log(t),w&&w.remove(),y(de(f.current,t))},children:"Visualise"})}),Object(V.jsx)(G.a,{item:!0,children:Object(V.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(e){(function(e,t){return ne.apply(this,arguments)})(d,n).then((function(){m(!1),Z.show.layer(N,d.getLayer(void 0,1))})),Z.visor().open(),m(!0)},disabled:O,children:"Train Model"})}),O?Object(V.jsx)(G.a,{item:!0,children:Object(V.jsx)(Y.a,{variant:"contained",color:"secondary",onClick:function(e){d.stopTraining=!0,m(!1),Z.show.layer(C,d.getLayer(void 0,1))},children:"Stop training"})}):null]})}):null,Object(V.jsx)(ie,{ref:f,children:Object(V.jsx)(V.Fragment,{})})]});return Object(V.jsx)(X,{left:k,right:B})}function Oe(){var e=Z.visor();e.el.style.position="absolute",e.el.style.zIndex=2e3,e.el.children[0].style.maxWidth="100%",e.close()}var me=240,xe=Object(u.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:me,width:"calc(100% - ".concat(me,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:me,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:me,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(l.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function fe(){var e,t,n=xe(),r=Object(d.a)(),i=Object(a.useState)(!1),c=Object(s.a)(i,2),o=c[0],u=c[1];Object(a.useEffect)(Oe);return Object(V.jsxs)("div",{className:n.root,children:[Object(V.jsx)(m.a,{}),Object(V.jsx)(h.a,{position:"fixed",className:Object(j.a)(n.appBar,Object(l.a)({},n.appBarShift,o)),children:Object(V.jsxs)(p.a,{children:[Object(V.jsx)(g.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(j.a)(n.menuButton,Object(l.a)({},n.hide,o)),children:Object(V.jsx)(w.a,{})}),Object(V.jsx)(x.a,{variant:"h6",noWrap:!0,children:"CA-ML Webapp Demo"})]})}),Object(V.jsxs)(b.a,{variant:"permanent",className:Object(j.a)(n.drawer,(e={},Object(l.a)(e,n.drawerOpen,o),Object(l.a)(e,n.drawerClose,!o),e)),classes:{paper:Object(j.a)((t={},Object(l.a)(t,n.drawerOpen,o),Object(l.a)(t,n.drawerClose,!o),t))},children:[Object(V.jsx)("div",{className:n.toolbar,children:Object(V.jsx)(g.a,{onClick:function(){u(!1)},children:"rtl"===r.direction?Object(V.jsx)(N.a,{}):Object(V.jsx)(S.a,{})})}),Object(V.jsx)(f.a,{}),Object(V.jsxs)(O.a,{children:[Object(V.jsxs)(k.a,{button:!0,component:D.b,to:"/ca-ml-webapp/",children:[Object(V.jsxs)(B.a,{children:[" ",Object(V.jsx)(I.a,{})," "]}),Object(V.jsx)(A.a,{primary:"Introduction"})]},"Intro"),Object(V.jsxs)(k.a,{button:!0,component:D.b,to:"/ca-ml-webapp/elementary",children:[Object(V.jsxs)(B.a,{children:[" ",Object(V.jsx)(T.a,{})," "]}),Object(V.jsx)(A.a,{primary:"Elementary CA"})]},"elementary"),Object(V.jsxs)(k.a,{button:!0,children:[Object(V.jsxs)(B.a,{children:[" ",Object(V.jsx)(W.a,{})," "]}),Object(V.jsx)(A.a,{primary:"Game of Life"})]},"gol"),Object(V.jsxs)(k.a,{button:!0,children:[Object(V.jsxs)(B.a,{children:[" ",Object(V.jsx)(R.a,{})," "]}),Object(V.jsx)(A.a,{primary:"Texture Synthesis"})]},"texture_synthesis")]})]}),Object(V.jsxs)("main",{className:n.content,children:[Object(V.jsx)("div",{className:n.toolbar}),Object(V.jsxs)(E.c,{children:[Object(V.jsx)(E.a,{exact:!0,path:"/ca-ml-webapp/",component:function(){return Object(V.jsx)(J,{})}}),Object(V.jsx)(E.a,{exact:!0,path:"/ca-ml-webapp/elementary",component:function(){return Object(V.jsx)(pe,{})}})]})]})]})}var ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,634)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(D.a,{children:Object(V.jsx)(fe,{})})}),document.getElementById("root")),ge()}},[[549,1,2]]]);
//# sourceMappingURL=main.22ab0613.chunk.js.map