(this["webpackJsonpca-ml-webapp"]=this["webpackJsonpca-ml-webapp"]||[]).push([[0],{437:function(e,t,n){},447:function(e,t){},448:function(e,t){},456:function(e,t){},540:function(e,t){},541:function(e,t){},542:function(e,t){},550:function(e,t){},554:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),r=n(58),o=n.n(r),c=(n(437),n(7)),s=n(130),l=n(20),u=n(26),d=n(607),j=n(91),h=n(634),b=n(624),m=n(625),p=n(611),f=n(623),g=n(299),O=n(627),x=n(626),v=n(410),y=n.n(v),w=n(412),k=n.n(w),S=n(411),C=n.n(S),N=n(628),R=n(629),T=n(630),I=n(413),A=n.n(I),L=n(414),M=n.n(L),B=n(415),W=n.n(B),z=n(416),F=n.n(z),E=n(172),G=n(68),P=n(632),D=n(17);function Y(e){return Object(D.jsx)(g.a,{component:"span",variant:"body1",paragraph:!0,children:Object(D.jsx)(P.a,{fontWeight:"fontWeightMedium",textAlign:"left",px:"5%",py:"1%",children:e.children})})}var X=n(557),U=n(608),q=Object(d.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var H=function(e){var t=q();return Object(D.jsx)("div",{className:t.root,children:Object(D.jsxs)(U.a,{container:!0,spacing:3,children:[Object(D.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(X.a,{className:t.paper,children:e.left})}),Object(D.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(X.a,{className:t.paper,children:e.right})})]})})};function J(){var e=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Cellular Automata"}),Object(D.jsxs)(Y,{children:["A cellular automaton is a collection of cells of a finite number of states (such as on and off) on a grid of specified shape that evolves through a number of discrete time steps according to a set of rules ",Object(D.jsx)("em",{children:"based on the states of neighboring cells"}),". The rules are then applied iteratively for as many time steps as desired.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"The concept was originally discovered in the 1940s by Stanislaw Ulam and John von Neumann. It was not until the 1970s and Conway's Game of Life, a two-dimensional cellular automaton, that interest in the subject expanded beyond academia. In the 1980s, Stephen Wolfram engaged in a systematic study of one-dimensional cellular automata, or what he calls elementary cellular automata; his research assistant Matthew Cook showed that one of these rules is Turing-complete. Wolfram published A New Kind of Science in 2002, claiming that cellular automata have applications in many fields of science."]}),Object(D.jsx)("img",{alt:"",style:{maxWidth:"100%"},src:"https://miro.medium.com/max/1024/1*pNLSLasaYXb9wgBPpGXZSw.gif"})]}),t=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Machine Learning"}),Object(D.jsxs)(Y,{children:["Machine learning is an application of artificial intelligence (AI) that provides systems the ability to automatically learn and improve from experience without being explicitly programmed. ",Object(D.jsx)("br",{}),Object(D.jsxs)("strong",{children:[Object(D.jsx)("br",{}),"In this project, my main aim is to try and see if cellular automata of different scale (elementary/2-dimensional) and of different complexities (single/multi-channel) can be simulated and learned by various artificial neural networks architectures, thus exploring the relationships between these two kinds of self-evolving computational models.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]}),"The project has been heavily inspired by the paper ",Object(D.jsx)("a",{href:"https://distill.pub/2020/growing-ca/",children:"Growing Neural Cellular Automata"})," by researchers at Google and Allen Discovery Center. My ultimate aim is to try and create a simple texture synthesizer that can be trained and run with low hardware requirements using the model outlined in the Google paper."]}),Object(D.jsx)("img",{alt:"",style:{maxWidth:"80%"},src:"https://miro.medium.com/max/3000/1*n3TBO5i8hrYAujlhiHoE_w.gif"})]});return Object(D.jsx)(H,{left:e,right:t})}var V=n(12),_=n(631),K=n(612),Z=n(417),Q=n(609),$=Object(Z.a)(Q.a)({maxWidth:"100%",marginBottom:20}),ee=n(326),te=Object(d.a)((function(e){return{image:{position:"relative",flexDirection:"column","&:hover":{zIndex:1}}}}));function ne(e){var t="/ca-ml-webapp/caButtons/"+e.id+"on.png",n="/ca-ml-webapp/caButtons/"+e.id+"off.png",a=e.toggle,i=te();return Object(D.jsxs)(ee.a,{focusRipple:!0,className:i.image,focusVisibleClassName:i.focusVisible,id:e.id,index:e.index,toggle:e.toggle?1:void 0,onClick:e.onClick,children:[Object(D.jsx)("img",{src:a?t:n,alt:e.id+" state"}),Object(D.jsx)("br",{}),Object(D.jsxs)(g.a,{variant:"button",children:[" ",a?1:0," "]})]})}var ae=n(287),ie=n.n(ae);function re(e,t){var n=64;return new ie.a((function(a){function i(e){var t=this;this.w=Math.floor(a.width/n),this.cells=new Array(n);for(var i=0;i<this.cells.length;i++)this.cells[i]=0;this.cells[this.cells.length/2]=1,this.generation=0,this.ruleset=e.toString(2).padStart(8,"0").split("").map((function(e){return parseInt(e)})),this.generate=function(){for(var e=[],n=0;n<t.cells.length;n++)e[n]=0;for(var a=1;a<t.cells.length-1;a++){var i=t.cells[a-1],r=t.cells[a],o=t.cells[a+1];e[a]=t.rules(i,r,o)}t.cells=e,t.generation++},this.display=function(){for(var e=0;e<this.cells.length;e++)1===this.cells[e]?a.fill(200):a.fill(51),a.noStroke(),a.rect(e*this.w,this.generation*this.w,this.w,this.w)},this.rules=function(e,t,n){return 1===e&&1===t&&1===n?this.ruleset[0]:1===e&&1===t&&0===n?this.ruleset[1]:1===e&&0===t&&1===n?this.ruleset[2]:1===e&&0===t&&0===n?this.ruleset[3]:0===e&&1===t&&1===n?this.ruleset[4]:0===e&&1===t&&0===n?this.ruleset[5]:0===e&&0===t&&1===n?this.ruleset[6]:0===e&&0===t&&0===n?this.ruleset[7]:0}}var r;a.setup=function(){a.createCanvas(.8*e.offsetWidth,.8*e.offsetWidth),r=new i(t),a.resizeCanvas(n*r.w,n*r.w),a.background(0)},a.draw=function(){r.display(),r.generation<a.height/r.w&&r.generate()},a.windowResized=function(){a.resizeCanvas(.8*e.offsetWidth,.8*e.offsetWidth),r=new i(t),a.resizeCanvas(n*r.w,n*r.w),a.background(0)}}),e)}var oe=Object(V.a)(Array(8).keys()).reverse().map((function(e){return e.toString(2).padStart(3,"0")}));function ce(e){var t=e.ruleNum,n=e.setRuleNum,i=Object(a.useState)(!1),r=Object(c.a)(i,2),o=r[0],s=r[1],l=Object(a.useState)(Object(V.a)(Array(8).fill(!1))),u=Object(c.a)(l,2),d=u[0],j=u[1],h=Object(a.useRef)(null),b=Object(a.useState)(null),m=Object(c.a)(b,2),p=m[0],f=m[1],g=function(e){var t=e.currentTarget,a=Object(V.a)(d);a[parseInt(t.getAttribute("index"))]=!t.getAttribute("toggle"),j(a),n(function(e){return Object(V.a)(e).reverse().reduce((function(e,t,n){return e+t*Math.pow(2,n)}),0)}(a))};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{children:oe.map((function(e,t){return Object(D.jsx)(ne,{id:e,index:t,toggle:d[t]?1:void 0,onClick:g},t)}))}),Object(D.jsx)($,{children:Object(D.jsx)(_.a,{error:o,id:"rule-num-inpput",label:"Rule Number",type:"number",value:t,variant:"outlined",onChange:function(e){var t=e.target.value;isNaN(t)||(t=parseInt(t))<0||t>255?s(!0):(s(!1),n(t),j(t.toString(2).padStart(8,"0").split("").map((function(e){return!!parseInt(e)}))))},helperText:o?"Only number between 0 and 255 allowed!":"Suggestion: 30, 135, 193"})}),Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){p&&p.remove(),f(re(h.current,t))},children:"Visualise"})}),Object(D.jsx)($,{ref:h})]})}var se,le,ue=n(636),de=n(610),je=n(60),he=n(2),be=n.n(he),me=n(16),pe=n(40);function fe(){return(fe=Object(me.a)(be.a.mark((function e(t,n){var a,i,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le&&le.dispose(),a=["loss","acc"],i={name:"Model Training",tab:"1D CA"},r=Object(s.a)(Object(s.a)({},je.show.fitCallbacks(i,a)),{},{onEpochEnd:function(e,n){n.acc>.9&&(t.stopTraining=!0)}}),le=n.toString(2).padStart(8,"0").split("").map(Number),le=pe.n(le),e.abrupt("return",t.fit(se,le,{epochs:500,callbacks:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){var t=e.ruleNum,n=Object(a.useState)(0),i=Object(c.a)(n,2),r=i[0],o=i[1],s=Object(a.useState)(null),l=Object(c.a)(s,2),u=l[0],d=l[1],j=Object(a.useState)(!1),h=Object(c.a)(j,2),b=h[0],m=h[1],p=Object(a.useRef)(null),f=Object(a.useState)(null),O=Object(c.a)(f,2),x=O[0],v=O[1],y={name:"Model summary",tab:"1D CA"},w={name:"Hidden Layer Summary",tab:"1D CA"},k={name:"Hidden Layer Summary Post Training",tab:"1D CA"};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(e){je.visor().open()},children:"Show tensorflow board"})}),Object(D.jsxs)($,{children:[Object(D.jsx)(g.a,{id:"hidden-unit-slider",gutterBottom:!0,children:"Units in hidden layer"}),Object(D.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(ue.a,{value:"number"===typeof r?r:0,onChange:function(e,t){o(t)},"aria-labelledby":"hidden-unit-slider",style:{width:64},min:0,max:32})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(de.a,{value:r,margin:"dense",onChange:function(e){o(""===e.target.value?"":Number(e.target.value))},onBlur:function(){r<0?o(0):r>32&&o(32)},inputProps:{min:0,max:32,type:"number","aria-labelledby":"hidden-unit-slider"}})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){var t=function(e){pe.e();var t=pe.j();t.add(pe.f.inputLayer({inputShape:[3]})),e>0&&t.add(pe.f.dense({units:e,activation:"relu"})),t.add(pe.f.dense({units:1,activation:"sigmoid"}));var n=pe.s.sgd(.2);return t.compile({optimizer:n,loss:"binaryCrossentropy",metrics:["accuracy"]}),t}(r);je.show.modelSummary(y,t),je.show.layer(w,t.getLayer(void 0,1)),je.visor().open(),d(t)},children:"Build Model"})})]})]}),u?Object(D.jsx)($,{children:Object(D.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){var t=function(e){return pe.q((function(){return e.predict(se).dataSync().map((function(e){return Number(e>.5)}))}))}(u).reverse().reduce((function(e,t,n){return e+t*Math.pow(2,n)}),0);console.log(t),x&&x.remove(),v(re(p.current,t))},children:"Visualise"})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){(function(e,t){return fe.apply(this,arguments)})(u,t).then((function(){m(!1),je.show.layer(k,u.getLayer(void 0,1))})),je.visor().open(),m(!0)},disabled:b,children:"Train Model"})}),b?Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(e){u.stopTraining=!0,m(!1),je.show.layer(w,u.getLayer(void 0,1))},children:"Stop training"})}):null]})}):null,Object(D.jsx)($,{ref:p,children:Object(D.jsx)(D.Fragment,{})})]})}function Oe(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Elementary CA"}),Object(D.jsxs)(Y,{children:[Object(D.jsx)("a",{href:"https://www.cantorsparadise.com/elementary-cellular-automaton-e27e3d1008d9",children:"Wolfram's elementary cellular automata"})," are one-dimensional, constructed with two possible values for each cell (0 or 1), and rules that depend only on itself and the nearest neighbor values.",Object(D.jsx)("br",{}),'Below is a simple demo you can play around with different rule set by either clicking on individual rule cells or input the rule number directly. The top row in the grid is initialised with only the middle cell "on", and every row below is 1 timestep after evolving from its row above.']}),Object(D.jsx)(ce,{ruleNum:n,setRuleNum:i})]}),o=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Multi-layer Perceptron"}),Object(D.jsxs)(Y,{children:["In this simple demo, we use a simple multilayer perceptron model to learn the CA update rule. Notice this problem is a non-linearly separable problem like the XOR problem, so if there's no hidden layer (hidden layer units slider set to 0), the single output perceptron would not be able to converge to a solution.",Object(D.jsx)("br",{}),"You can play around and build models, change hyperparameters, and train the model to learn the CA rule you have specified on the CA side. Compare the visualisation result before and after the training is complete."]}),Object(D.jsx)("img",{alt:"mlp model",style:{maxWidth:"80%"},src:"https://ars.els-cdn.com/content/image/1-s2.0-S2405656118301020-gr1.jpg"}),Object(D.jsx)(ge,{ruleNum:n})]});return Object(D.jsx)(H,{left:r,right:o})}function xe(e){var t=this,n=e,a=e;function i(e,t,i){for(var r=0,o=-1;o<2;o++)for(var c=-1;c<2;c++){var s=(i+c+a)%a;r+=e[(t+o+n)%n][s]}return r-=e[t][i]}this.grid=function(e,t){for(var n=ve(e,t),a=0;a<e;a++)for(var i=0;i<t;i++)n[a][i]=0;return n}(n,a),this.randomInitialise=function(){t.grid=function(e,t){for(var n=ve(e,t),a=0;a<e;a++)for(var i=0;i<t;i++)n[a][i]=Math.floor(2*Math.random());return n}(n,a)},this.computeNext=function(){for(var e=ve(n,a),r=0;r<n;r++)for(var o=0;o<a;o++){var c=t.grid[r][o],s=i(t.grid,r,o);e[r][o]=0===c&&3===s?1:1===c&&(s<2||s>3)?0:c}t.grid=e}}function ve(e,t){for(var n=new Array(e),a=0;a<n.length;a++)n[a]=new Array(t);return n}function ye(e){var t,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=28,r=i,o=i;a||(this.gol=new xe(i)),this.isRunning=!1;var c=function(c){c.setup=function(){c.createCanvas(.6*e.offsetWidth,.6*e.offsetWidth),t=c.width/i,c.resizeCanvas(i*t,i*t),c.background(0),c.frameRate(15)},c.draw=function(){c.background(255);for(var e=0;e<r;e++)for(var i=0;i<o;i++){var s=e*t,l=i*t;if(a){var u=255-c.map(a[e][i],0,1,0,255);c.fill(u),c.strokeWeight(.5),c.stroke(128)}else 1===n.gol.grid[e][i]?(c.fill(0),c.noStroke()):(c.noFill(),c.strokeWeight(2),c.stroke(0));c.rect(s,l,t,t)}n.isRunning&&n.gol.computeNext()},c.mouseClicked=function(){if(!n.isRunning&&!a){var e=Math.floor(c.mouseX/t),i=Math.floor(c.mouseY/t);e>0&&e<o&&i>0&&i<r&&(n.gol.grid[e][i]=1-n.gol.grid[e][i])}},c.mouseDragged=function(){if(!n.isRunning&&!a){var e=Math.floor(c.mouseX/t),i=Math.floor(c.mouseY/t);e>0&&e<o&&i>0&&i<r&&(n.gol.grid[e][i]=1)}},c.windowResized=function(){c.createCanvas(.6*e.offsetWidth,.6*e.offsetWidth),t=c.width/i,c.resizeCanvas(i*t,i*t),c.background(0)}};this.p5=new ie.a(c,e),this.reset=function(){n.gol=new xe(i)}}function we(e){var t=e.golp5,n=e.setGolp5,i=e.isp5Running,r=e.setisp5Running,o=Object(a.useRef)(null);Object(a.useEffect)((function(){n((function(e){return e||new ye(o.current)}))}),[]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{ref:o}),Object(D.jsx)($,{children:Object(D.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){t.reset()},children:"Reset"})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){t.gol.randomInitialise()},children:"Random"})})]})}),Object(D.jsx)($,{children:t?Object(D.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){t.isRunning=!t.isRunning,r(t.isRunning)},children:i?"Pause":"Run"})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){i&&(t.isRunning=!1,r(t.isRunning)),t.gol.computeNext()},children:"Step"})})]}):null})]})}se=(se=Object(V.a)(Array(8).keys()).reverse().map((function(e){return e.toString(2).padStart(3,"0")}))).map((function(e){return e.split("").map(Number)})),se=pe.n(se);var ke=n(1),Se=n(9),Ce=n(13),Ne=n(14),Re=function(e){Object(Ce.a)(n,e);var t=Object(Ne.a)(n);function n(){return Object(ke.a)(this,n),t.call(this,{})}return Object(Se.a)(n,[{key:"computeOutputShape",value:function(e){var t=Object(V.a)(e);return t[1]+=2,t[2]+=2,t}},{key:"call",value:function(e,t){var n=(e=e[0]).shape[1],a=e.slice([0,n-1,0],[-1,1,-1]),i=e.slice([0,0,0],[-1,1,-1]),r=pe.b([a,e,i],1),o=r.slice([0,0,n-1],[-1,-1,1]),c=r.slice([0,0,0],[-1,-1,1]);return pe.b([o,r,c],2)}},{key:"getClassName",value:function(){return"PeriodicPadding"}}]),n}(pe.f.Layer);function Te(){var e=this,t=100,n=28;this.trainXs=new Array(t),this.trainYs=new Array(t);for(var a=0;a<t;a++){var i=new xe(n);i.randomInitialise(),this.trainXs[a]=i.grid,i.computeNext(),this.trainYs[a]=i.grid}this.trainXs=pe.o(this.trainXs).reshape([t,n,n,1]),this.trainYs=pe.o(this.trainYs).reshape([t,784,1]),this.model=function(){pe.e();var e=pe.j();e.add(pe.f.inputLayer({inputShape:[n,n,1]})),e.add(new Re),e.add(pe.f.conv2d({filters:10,kernelSize:3,padding:"valid",activation:"relu"})),e.add(pe.f.reshape({targetShape:[-1,10]})),e.add(pe.f.dense({units:20,activation:"relu"})),e.add(pe.f.dense({units:1,activation:"sigmoid"}));var t=pe.s.adam(.01);return e.compile({optimizer:t,loss:"binaryCrossentropy",metrics:["accuracy"]}),e}(),this.isTraining=!1,this.train=function(){var t=Object(s.a)(Object(s.a)({},je.show.fitCallbacks({name:"Model Training",tab:"Game of Life"},["loss","acc"])),{},{onEpochEnd:function(t,n){n.loss<.05&&(e.model.stopTraining=!0)}});return e.model.fit(e.trainXs,e.trainYs,{epochs:100,callbacks:t})},this.doPrediction=function(t){return pe.q((function(){t=pe.p(t).reshape([1,n,n,1]);var a=e.model.predict(t);return a=a.reshape([n,n])}))}}function Ie(e){var t=e.golp5,n=e.setisp5Running,i=Object(a.useState)(null),r=Object(c.a)(i,2),o=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(c.a)(l,2),d=u[0],j=u[1],h=Object(a.useState)(null),b=Object(c.a)(h,2),m=b[0],p=b[1],f=Object(a.useRef)(null),g={name:"Model summary",tab:"Game of Life"},O={name:"Hidden Layer Summary",tab:"Game of Life"};Object(a.useEffect)((function(){var e=new Te;s(e),je.show.modelSummary(g,e.model)}),[]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(e){je.visor().open()},children:"Show tensorflow board"})}),Object(D.jsx)($,{children:Object(D.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){console.log(o.trainXs)},children:"Generate training data"})}),Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){o.train(),je.visor().open(),j(!0)},disabled:d,children:"Train Model"})}),d?Object(D.jsx)(U.a,{item:!0,children:Object(D.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(e){o.model.stopTraining=!0,j(!1),je.show.layer(O,o.model.getLayer(void 0,2))},children:"Stop training"})}):null]})}),Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){t.isTraining=!1,n(!1);var a=o.doPrediction(t.gol.grid);a=a.arraySync(),m&&m.p5.remove(),p(new ye(f.current,a))},children:"Predict Next Step"})}),Object(D.jsx)($,{ref:f})]})}function Ae(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),o=Object(c.a)(r,2),s=o[0],l=o[1],u=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Conway's Game of Life"}),Object(D.jsxs)(Y,{children:[Object(D.jsx)("a",{href:"https://mathworld.wolfram.com/GameofLife.html",children:"Conway's Game of Life"})," is a two-dimensional cellular automaton, invented by John H. Conway and popularized in Martin Gardner's Scientific American column starting in October 1970.",Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:Object(D.jsx)("em",{children:"RULES"})}),Object(D.jsx)("br",{}),"For a space that is populated:",Object(D.jsx)("br",{}),"1. Each cell with one or no neighbors dies, as if by solitude.",Object(D.jsx)("br",{}),"2. Each cell with four or more neighbors dies, as if by overpopulation.",Object(D.jsx)("br",{}),"3. Each cell with two or three neighbors survives.",Object(D.jsx)("br",{}),"For a space that is empty or unpopulated:",Object(D.jsx)("br",{}),"Each cell with three neighbors becomes populated.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"Below is a simple demo you can play around with by clicking on each cell on the grid to populate or empty it. You can click run to let the game plays out till a stable state is reached, or you can click step to let it run one step at a time. Try making some of the listed patterns below and see how it evolves!"]}),Object(D.jsx)(we,{golp5:n,setGolp5:i,isp5Running:s,setisp5Running:l}),Object(D.jsx)("img",{alt:"",style:{maxWidth:"60%"},src:"https://img.itch.zone/aW1nLzIxNTk1NTYucG5n/original/nS1Wxk.png"})]}),d=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"Convolutional Neural Network"}),Object(D.jsxs)(Y,{children:[Object(D.jsx)("a",{href:"https://towardsdatascience.com/a-comprehensive-guide-to-convolutional-neural-networks-the-eli5-way-3bd2b1164a53",children:"Convolutional neural network"}),"  applies a series of local convolutions via a trainable \u201ckernel\u201d to an input multichannel image. The same kernel is applied to all pixels in the image, and each convolutional layer consolidates information within a fixed local radius of each pixel in the input image depending on the kernel size.",Object(D.jsx)("br",{}),"The primary analogy between cellular automata and traditional convolutional neural networks arises from (1) the locality of the dynamics, and (2) simultaneous temporal updating of all spatial points. The single-neighborhood rule operator in CA can, in this way, be implemented as a convolutional operator as part of a CNN, allowing it to be applied synchronously to all pixel neighborhoods in an input image.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"Below is an example implementation of an in-browser convolutional neural network. You can train it and then use it to predict the next step of the grid on the other panel with darker color indicating more confidence. Use the step button on the other side to verify the correctness of the prediction."]}),Object(D.jsx)("img",{src:"/ca-ml-webapp/convolution.png",style:{maxWidth:"100%"},alt:"convolution diagram"}),Object(D.jsx)(Ie,{golp5:n,setisp5Running:l})]});return Object(D.jsx)(H,{left:u,right:d})}function Le(e){e.textureImage;var t=e.setTextureImage,n=e.uploadedImage;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)($,{children:[Object(D.jsx)("input",{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){var a=e.target.files[0];if(console.log(a),a){t(a);var i=new FileReader,r=n.current;r.file=a,i.onload=function(e){r.src=e.target.result},i.readAsDataURL(a)}}}),Object(D.jsx)("label",{htmlFor:"contained-button-file",children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})})]}),Object(D.jsx)("img",{alt:"",style:{width:448},ref:n})]})}var Me=128,Be=function(e){return pe.l(e,[0,0,0,0],[-1,-1,-1,3])},We=function(e){Object(Ce.a)(n,e);var t=Object(Ne.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(ke.a)(this,n),(e=t.call(this,{})).angle=a,e}return Object(Se.a)(n,[{key:"computeOutputShape",value:function(e){var t=Object(V.a)(e);return t[3]=36,console.log(t),t}},{key:"call",value:function(e,t){var n=this;return pe.q((function(){var t=pe.h([0,1,0],[0,1,0]),a=pe.h([1,2,1],[-1,0,1]).div(pe.i(8)),i=pe.t(a),r=[pe.c(n.angle),pe.k(n.angle)],o=r[0],c=r[1],s=pe.n([t,o.mul(a).sub(c.mul(i)),c.mul(a).add(o.mul(i))],-1);s=s.expandDims(2),s=pe.r(s,[1,1,12,1]),e=e[0];var l=[];return pe.u(e).forEach((function(e){var t=pe.d(e,s,1,"same");l.push(t)})),pe.n(l)}))}},{key:"getClassName",value:function(){return"Perception"}}]),n}(pe.f.Layer),ze=function(e){Object(Ce.a)(n,e);var t=Object(Ne.a)(n);function n(){return Object(ke.a)(this,n),t.call(this,{})}return Object(Se.a)(n,[{key:"call",value:function(e,t){return console.log(e[0]),Be(e[0])}},{key:"computeOutputShape",value:function(e){var t=Object(V.a)(e);return t[3]=3,console.log(t),t}},{key:"getClassName",value:function(){return"ImageOutput"}}]),n}(pe.f.Layer);function Fe(e){var t=this;this.model=function(){pe.e();var e=pe.f.conv2d({filters:96,kernelSize:1,padding:"valid",activation:"relu",useBias:!0}),t=pe.f.conv2d({filters:12,kernelSize:1,padding:"valid",activation:null,kernelInitializer:"zeros"}),n=pe.j();n.add(pe.f.inputLayer({inputShape:[Me,Me,12]})),n.add(new We(0)),n.add(e),n.add(t),n.add(new ze);var a=pe.s.adam(.002);return n.compile({optimizer:a,loss:"meanSquaredError"}),n}(),this.loss_log=[],this.isTraining=!1;var n,a=(n=1,pe.v([n,Me,Me,12])),i=e.expandDims(0);this.train=function(){var e=Object(s.a)({},je.show.fitCallbacks({name:"Model Training",tab:"Texture Synth"},["loss"]));return t.model.fit(a,i,{epochs:1e3,callbacks:e})}}function Ee(e){var t=e.uploadedImage,n=Object(a.useState)(null),i=Object(c.a)(n,2),r=(i[0],i[1]),o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(!1),j=Object(c.a)(d,2),h=(j[0],j[1]),b=Object(a.useRef)(null),m={name:"Model summary",tab:"Texture Synth"};return Object(a.useEffect)((function(){})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"secondary",onClick:function(e){je.visor().open()},children:"Show tensorflow board"})}),Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){if(t.current.src){var n=pe.a.fromPixels(t.current).resizeBilinear([128,128]).toFloat().div(pe.i(255));r(n),console.log(n),pe.a.toPixels(n,b.current);var a=new Fe(n);u(a),je.show.modelSummary(m,a.model)}},children:"Preprocess Image"})}),Object(D.jsx)($,{children:Object(D.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(e){l.train(),je.visor().open(),h(!0)},children:"Train Model"})}),Object(D.jsx)("canvas",{ref:b})]})}function Ge(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useRef)(null),o=Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(Le,{textureImage:n,setTextureImage:i,uploadedImage:r})}),s=Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(Ee,{uploadedImage:r})});return Object(D.jsx)(H,{left:o,right:s})}function Pe(){var e=je.visor();e.el.style.position="absolute",e.el.style.zIndex=2e3,e.el.children[0].style.maxWidth="100%",e.close()}var De=240,Ye=Object(d.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:De,width:"calc(100% - ".concat(De,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:De,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:De,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(l.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function Xe(){var e,t,n=Ye(),i=Object(j.a)(),r=Object(a.useState)(!1),o=Object(c.a)(r,2),s=o[0],d=o[1];Object(a.useEffect)(Pe);return Object(D.jsxs)("div",{className:n.root,children:[Object(D.jsx)(f.a,{}),Object(D.jsx)(b.a,{position:"fixed",className:Object(u.a)(n.appBar,Object(l.a)({},n.appBarShift,s)),children:Object(D.jsxs)(m.a,{children:[Object(D.jsx)(x.a,{color:"inherit","aria-label":"open drawer",onClick:function(e){e.preventDefault(),d(!0)},edge:"start",className:Object(u.a)(n.menuButton,Object(l.a)({},n.hide,s)),children:Object(D.jsx)(y.a,{})}),Object(D.jsx)(g.a,{variant:"h6",noWrap:!0,children:"CA-ML Webapp Demo"})]})}),Object(D.jsxs)(h.a,{variant:"permanent",className:Object(u.a)(n.drawer,(e={},Object(l.a)(e,n.drawerOpen,s),Object(l.a)(e,n.drawerClose,!s),e)),classes:{paper:Object(u.a)((t={},Object(l.a)(t,n.drawerOpen,s),Object(l.a)(t,n.drawerClose,!s),t))},children:[Object(D.jsx)("div",{className:n.toolbar,children:Object(D.jsx)(x.a,{onClick:function(e){e.preventDefault(),d(!1)},children:"rtl"===i.direction?Object(D.jsx)(C.a,{}):Object(D.jsx)(k.a,{})})}),Object(D.jsx)(O.a,{}),Object(D.jsxs)(p.a,{children:[Object(D.jsxs)(N.a,{button:!0,component:E.b,to:"/",children:[Object(D.jsxs)(R.a,{children:[" ",Object(D.jsx)(A.a,{})," "]}),Object(D.jsx)(T.a,{primary:"Introduction"})]},"Intro"),Object(D.jsxs)(N.a,{button:!0,component:E.b,to:"/elementary",children:[Object(D.jsxs)(R.a,{children:[" ",Object(D.jsx)(M.a,{})," "]}),Object(D.jsx)(T.a,{primary:"Elementary CA"})]},"elementary"),Object(D.jsxs)(N.a,{button:!0,component:E.b,to:"/gol",children:[Object(D.jsxs)(R.a,{children:[" ",Object(D.jsx)(W.a,{})," "]}),Object(D.jsx)(T.a,{primary:"Game of Life"})]},"gol"),Object(D.jsxs)(N.a,{button:!0,component:E.b,to:"/texture",children:[Object(D.jsxs)(R.a,{children:[" ",Object(D.jsx)(F.a,{})," "]}),Object(D.jsx)(T.a,{primary:"Texture Synthesis"})]},"texture_synthesis")]})]}),Object(D.jsxs)("main",{className:n.content,children:[Object(D.jsx)("div",{className:n.toolbar}),Object(D.jsxs)(G.c,{children:[Object(D.jsx)(G.a,{exact:!0,path:"/",component:function(){return Object(D.jsx)(J,{})}}),Object(D.jsx)(G.a,{exact:!0,path:"/elementary",component:function(){return Object(D.jsx)(Oe,{})}}),Object(D.jsx)(G.a,{exact:!0,path:"/gol",component:function(){return Object(D.jsx)(Ae,{})}}),Object(D.jsx)(G.a,{exact:!0,path:"/texture",component:function(){return Object(D.jsx)(Ge,{})}})]})]})]})}var Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,638)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};o.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(E.a,{children:Object(D.jsx)(Xe,{})})}),document.getElementById("root")),Ue()}},[[554,1,2]]]);
//# sourceMappingURL=main.a5e1b78c.chunk.js.map